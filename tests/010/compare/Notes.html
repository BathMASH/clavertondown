<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Test 010: Diagrams generated by R the right size" />
<meta property="og:type" content="book" />





<meta name="author" content="Emma Cliffe, Skills Centre: MASH, University of Bath" />



<meta name="description" content="Test 010: Diagrams generated by R the right size">

<title>Test 010: Diagrams generated by R the right size</title>

<script src="libs/header-attrs-2.30/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>

<style type="text/css">
  a {
   color: blue;
  }

  [custom-style=DefinitionStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: AliceBlue;
    border-left-style: solid;
    border-color: CadetBlue;
    padding-left: 0.5em;
  }

  [custom-style=TheoremStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: honeydew;
    border-left-style: solid;
    border-color: darkseagreen;
    padding-left: 0.5em;
    font-style: italic;
  }

  [custom-style=TheoremStyleUpright] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: honeydew;
    border-left-style: solid;
    border-color: darkseagreen;
    padding-left: 0.5em;
    font-style: normal;
  }

  [custom-style=NameStyle]{
    font-style: normal;
    font-weight: bold;
  }

  [custom-style=NameStyleItalics]{
    font-style: italic;
  }

  
  [custom-style=ProofStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: seashell;
    border-left-style: solid;
    border-color: darkkhaki;
    padding-left: 0.5em;
  }

  [custom-style=ExampleStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: lavenderblush;
    border-left-style: solid;
    border-color: mediumorchid;
    padding-left: 0.5em;
  }

  [data-custom-style=DefinitionStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: AliceBlue;
    border-left-style: solid;
    border-color: CadetBlue;
    padding-left: 0.5em;
  }

  [data-custom-style=TheoremStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: honeydew;
    border-left-style: solid;
    border-color: darkseagreen;
    padding-left: 0.5em;
  }

  [data-custom-style=TheoremStyleUpright] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: honeydew;
    border-left-style: solid;
    border-color: darkseagreen;
    padding-left: 0.5em;
    font-style: normal;
  }
  
  [data-custom-style=ProofStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: seashell;
    border-left-style: solid;
    border-color: darkkhaki;
    padding-left: 0.5em;
  }

  [data-custom-style=ExampleStyle] {
    margin-bottom: 1.5em;
    margin-top:1.5em;
    background-color: lavenderblush;
    border-left-style: solid;
    border-color: mediumorchid;
    padding-left: 0.5em;
  }

  
</style>

</head>

<body>

<div class="container-fluid main-container">


<!--bookdown:title:start-->
<div id="header">
<h1 class="title">Test 010: Diagrams generated by R the right size</h1>
<h4 class="author"><em>Emma Cliffe, Skills Centre: MASH, University of Bath</em></h4>
<h4 class="date"><em>August 2021</em></h4>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
<!--bookdown:toc:end-->

<!--bookdown:body:start-->
<div id="introduction" class="section level1 unnumbered">
<h1>Introduction</h1>
<p>Problem: In clear and large print we are trying to control the size of the diagrams. This was tested with some cases but a problem was reported with images generated by R.</p>
<p>Attempt: To understand how diagrams generated by R present in the LaTeX, replicate the problem and solve it.</p>
</div>
<div id="figures-generated-by-r" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Figures generated by R</h1>
<div id="saved-and-then-included" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Saved and then included</h2>
<p>This is as per the example and is working as expected.</p>
<div id="here-is-a-figure" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Here is a figure</h3>
<div class="float">
<img src="Notes_files/figures/cars-plot-1.svg" style="width:60.0%" alt="This is the alternative text" />
<div class="figcaption">Figure 1.1: This is title and a caption</div>
</div>
</div>
<div id="figure-inside-another-built-in-environment" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Figure inside another built in environment</h3>

<div id="exm:unnamed-chunk-1" class="bookdown-example" custom-style="ExampleStyle">
<span class="exm:unnamed-chunk-1" custom-style="NameStyle"><strong>Example 1.1:  </strong></span>
<div>
<p>Here is an example.</p>
<div class="float">
<img src="Notes_files/figures/cars-plot-1.svg" style="width:60.0%" alt="Some more meaningful alternative text?" />
<div class="figcaption">Figure 1.2: Something to do with cars</div>
</div>
<p>This is a test. So, you need an empty line before and after the above for it to be a float. At the end of an environment this means that you need TWO empty lines. This is Pandoc.</p>
</div>
</div>
</div>
</div>
<div id="generated-and-included" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Generated and included</h2>
<p>This is the untested use case as it was not what clavertondown was originally designed to ‘fix’. By trying to intercede with all figures, including non-floats, I seem to have broken the world. Which is now fixed.</p>
<p>What happened? If you use R to generate an image without saving and then floating it then no native width and height are set in the includegraphics. If you change the width and height in the R snippet then this is used to <em>generate a different size pdf image</em> NOT to adapt the width and height in includegraphics. This means that when we try to use scaling and adjusting there is no width and height set so Bad Things happen in clear and large print. ALL includegraphics in clear and large print MUST have a width AND height set. Luckily we know that adjustbox is present so when we find such things in the below we can set width=\Width and height=\Height. Note the capitalisation and reread the adjustbox manual if you aren’t sure.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">plot</span>(cars)</span></code></pre></div>
<p><img src="Notes_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<!--chapter:end:index.Rmd-->
</div>
</div>
<!--bookdown:body:end-->


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
